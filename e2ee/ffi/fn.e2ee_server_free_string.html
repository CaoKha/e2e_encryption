<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Frees the memory associated with a C string."><title>e2ee_server_free_string in e2ee::ffi - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="e2ee" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../e2ee/index.html">e2ee</a><span class="version">0.1.1</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In e2ee::ffi</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">e2ee</a>::<wbr><a href="index.html">ffi</a>::<wbr><a class="fn" href="#">e2ee_server_free_string</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/e2ee/ffi.rs.html#366-370">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>#[no_mangle]
pub unsafe extern &quot;C&quot; fn e2ee_server_free_string(s: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.pointer.html">*mut </a><a class="type" href="https://doc.rust-lang.org/1.81.0/std/os/raw/type.c_char.html" title="type std::os::raw::c_char">c_char</a>)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Frees the memory associated with a C string.</p>
<p>This function is used to free the memory of a string that was originally allocated by the Rust code and returned
to the C code. After calling this function, the pointer to the C string becomes invalid and should no longer
be used.</p>
<h2 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h2>
<p>The <code>s</code> pointer must be valid and non-null. This function performs an unsafe operation by dereferencing the pointer
and transferring ownership of the memory to the Rust side. After the function is called, the memory is deallocated.
Using the <code>s</code> pointer after this call is undefined behavior.</p>
<p>The function assumes that the pointer was originally created by Rust using <code>CString::into_raw()</code>. Passing any
other pointer may result in undefined behavior.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2><div class="example-wrap"><pre class="language-c"><code>// In C code, after using the string, call this to free it:
e2ee_server_free_string(encrypted_message);
</code></pre></div><h2 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h2>
<ul>
<li><code>s</code> - A pointer to a C string (null-terminated <code>c_char</code>).</li>
</ul>
<h2 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h2>
<p>This function may panic if the pointer is invalid or the memory was not allocated by Rust’s <code>CString</code>.</p>
</div></details></section></div></main></body></html>